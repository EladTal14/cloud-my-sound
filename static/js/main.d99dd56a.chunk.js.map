{"version":3,"sources":["assets/img/no-img.jpg","assets/img/next.svg","assets/img/list.svg","assets/img/tile.svg","services/storage-service.js","cmps/recentSearches/RecentSearches.jsx","cmps/results/result/Result.jsx","cmps/results/Results.jsx","services/custom-hooks.js","services/utils.js","cmps/song/Song.jsx","App.js","reportWebVitals.js","index.js"],"names":["saveToStorage","key","val","localStorage","setItem","JSON","stringify","loadFromStorage","getItem","parse","RecentSearches","searchDeb","setSearchDeb","setSearch","useState","recentSearches","setRecentSearches","useEffect","className","map","search","href","onClick","instigateSearch","Math","random","Result","title","picture","formationTile","setVideoUrl","embedUrl","resultRef","useRef","ref","current","classList","add","setTimeout","src","require","default","alt","Results","callback","delay","SC","songs","setSongs","setFormationTile","nextSongs","setNextSongs","debouncedSave","nextValue","useCallback","debounce","chooseFormation","userChoice","lastSearches","limit","items","itemIn","arr","inItems","findIndex","item","splice","length","pop","unshift","limitAndPushArray","get","q","license","linked_partitioning","then","tracks","collection","next_href","getNewResults","a","axios","res","newResults","data","id","type","value","placeholder","onChange","event","target","song","permalink_url","artwork_url","disabled","style","width","Song","videoUrl","embedVideo","setEmbedVideo","oEmbed","auto_play","embed","__html","html","dangerouslySetInnerHTML","height","scrolling","frameborder","App","window","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.d99dd56a.chunk.js","sourcesContent":["export default __webpack_public_path__ + \"static/media/no-img.2b01285d.jpg\";","export default __webpack_public_path__ + \"static/media/next.2aa04594.svg\";","export default __webpack_public_path__ + \"static/media/list.008a5145.svg\";","export default __webpack_public_path__ + \"static/media/tile.8e5c77dc.svg\";","\r\nexport function saveToStorage(key, val) {\r\n  localStorage.setItem(key, JSON.stringify(val))\r\n}\r\n\r\nexport function loadFromStorage(key) {\r\n  var val = localStorage.getItem(key)\r\n  return JSON.parse(val)\r\n}","import { useEffect, useState } from \"react\"\r\nimport { loadFromStorage } from \"../../services/storage-service\"\r\n\r\n\r\nexport function RecentSearches({ searchDeb, setSearchDeb, setSearch }) {\r\n  const [recentSearches, setRecentSearches] = useState([])\r\n  useEffect(() => {\r\n    setRecentSearches(loadFromStorage('recentSearches'))\r\n  }, [searchDeb])\r\n  const instigateSearch = (search) => {\r\n    setSearch('')\r\n    setSearchDeb(search)\r\n  }\r\n  return (\r\n    <div className=\"recent-searches\">\r\n      <h3>Recent Searches</h3>\r\n      {recentSearches === null && <span>You Haven't searched yet</span>}\r\n      <div className=\"container flex column\">\r\n        {recentSearches && recentSearches.map(search => <a href=\"#top\" className=\"recent-search\" key={Math.random()}><div onClick={() => instigateSearch(search)} href=\"#top\"  >{search}</div></a>)}\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n","import { useRef } from 'react'\r\n\r\n\r\nexport function Result({ title, picture, formationTile, setVideoUrl, embedUrl }) {\r\n  const resultRef = useRef(null)\r\n  const handleClick = () => {\r\n    setVideoUrl(embedUrl)\r\n    resultRef.current.classList.add('fade-out')\r\n    setTimeout(() => { resultRef.current.classList.add('hidden') }, 1000)\r\n  }\r\n  return (\r\n    <div ref={resultRef} className={`${formationTile ? 'no-pic' : ''} result flex`} onClick={handleClick}>\r\n      {!formationTile && <span className=\"fs16\">{title}</span>}\r\n      {formationTile && <img src={picture ? picture : require('../../../assets/img/no-img.jpg').default} alt={title} />}\r\n    </div>\r\n  )\r\n}\r\n","import axios from 'axios'\r\nimport { useEffect, useState } from \"react\";\r\nimport { useDebounce } from '../../services/custom-hooks'\r\nimport { Result } from \"./result/Result\";\r\nimport { loadFromStorage, saveToStorage } from \"../../services/storage-service\";\r\nimport { limitAndPushArray } from \"../../services/utils\";\r\n\r\nexport function Results({ setVideoUrl, searchDeb, setSearchDeb, SC, search, setSearch }) {\r\n  const [songs, setSongs] = useState([])\r\n  const [formationTile, setFormationTile] = useState(false)\r\n  const [nextSongs, setNextSongs] = useState('')\r\n  const debouncedSave = useDebounce((nextValue) => setSearchDeb(nextValue), 1000);\r\n\r\n  const chooseFormation = (userChoice) => {\r\n    saveToStorage('formation', userChoice)\r\n    setFormationTile(userChoice)\r\n  }\r\n  useEffect(() => {\r\n    let userChoice = loadFromStorage('formation')\r\n    if (userChoice) setFormationTile(userChoice)\r\n  }, [])\r\n\r\n  useEffect(() => {\r\n    if (!searchDeb) return\r\n    let lastSearches = loadFromStorage('recentSearches')\r\n    if (lastSearches) {\r\n      lastSearches = limitAndPushArray(5, lastSearches, searchDeb)\r\n      saveToStorage('recentSearches', lastSearches)\r\n    } else {\r\n      saveToStorage('recentSearches', [searchDeb])\r\n    }\r\n  }, [searchDeb])\r\n\r\n  useEffect(() => {\r\n    SC.get('/tracks', {\r\n      q: searchDeb, license: 'cc-by-sa', limit: 6, linked_partitioning: true\r\n    }).then(function (tracks) {\r\n      setSongs(tracks.collection)\r\n      setNextSongs(tracks.next_href)\r\n    });\r\n  }, [SC, searchDeb])\r\n\r\n  const handleChange = (event) => {\r\n    const { value: nextValue } = event.target;\r\n    setSearch(nextValue);\r\n    debouncedSave(nextValue)\r\n  };\r\n  const getNewResults = async () => {\r\n    const res = await axios.get(nextSongs)\r\n    const newResults = res.data\r\n    if (newResults.collection) setSongs(newResults.collection)\r\n    if (newResults.next_href) setNextSongs(newResults.next_href)\r\n  }\r\n  return (\r\n    <div className=\"results\" id=\"top\">\r\n      <input type=\"text\" value={search} placeholder=\"Search Songs...\" className=\"search\" onChange={handleChange} />\r\n      <div className={formationTile ? 'tile' : ''}>\r\n        {songs.length === 0 && <div>Couldn't find songs</div>}\r\n        {songs.map(song => <Result setVideoUrl={setVideoUrl} embedUrl={song.permalink_url} formationTile={formationTile} key={song.id} picture={song.artwork_url} title={song.title} />)}\r\n      </div>\r\n      <div className=\"actions flex space-between\">\r\n        <button className=\"next\" disabled={!nextSongs} onClick={getNewResults}><img src={require('../../assets/img/next.svg').default} style={{ width: 40 }} alt=\"next results\" /></button>\r\n        <button className=\"list\" onClick={() => chooseFormation(false)}><img src={require('../../assets/img/list.svg').default} style={{ width: 40 }} alt=\"list results\" /></button>\r\n        <button className=\"tile\" onClick={() => chooseFormation(true)}><img src={require('../../assets/img/tile.svg').default} style={{ width: 40 }} alt=\"tile results\" /></button>\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n","import debounce from \"lodash.debounce\";\r\nimport { useCallback } from \"react\";\r\n\r\nexport function useDebounce(callback, delay) {\r\n  const debouncedFn = useCallback(\r\n    debounce((...args) => callback(...args), delay),\r\n    [delay]\r\n  );\r\n  return debouncedFn;\r\n}","export function limitAndPushArray(limit, items, itemIn) {\r\n  let arr = [...items]\r\n  let inItems = arr.findIndex(item => item === itemIn)\r\n  if (inItems !== -1) {\r\n    arr.splice(inItems, 1)\r\n  } else {\r\n    if (arr.length === limit) arr.pop()\r\n  }\r\n  arr.unshift(itemIn)\r\n  return arr\r\n}","import { useState, useEffect } from \"react\";\r\n\r\nexport function Song({ videoUrl, SC }) {\r\n  const [embedVideo, setEmbedVideo] = useState('')\r\n  useEffect(() => {\r\n    SC.oEmbed(videoUrl, {\r\n      auto_play: true\r\n    }).then(function (embed) {\r\n      setEmbedVideo({ __html: embed.html })\r\n    })\r\n  }, [SC, videoUrl])\r\n\r\n  if (!embedVideo) return <div>Loading...</div>\r\n  return (\r\n    <div className=\"song fade-in\" dangerouslySetInnerHTML={embedVideo ? embedVideo : { __html: <iframe title=\"new\" width=\"100%\" height=\"400\" scrolling=\"no\" frameborder=\"no\" src=\"https://w.soundcloud.com/player/?visual=true&url=https%3A%2F%2Fapi.soundcloud.com%2Ftracks%2F225558827&show_artwork=true\"></iframe> }}></div>\r\n  )\r\n}\r\n","import { useState } from 'react';\nimport './assets/style/main.scss'\nimport { RecentSearches } from './cmps/recentSearches/RecentSearches';\nimport { Results } from './cmps/results/Results';\nimport { Song } from './cmps/song/Song';\n\nfunction App() {\n  const [videoUrl, setVideoUrl] = useState('https://soundcloud.com/anxsound/tiesto-don-diablo-chemicals-anx-progressive-bootleg')\n  const [searchDeb, setSearchDeb] = useState('tiesto')\n  const [search, setSearch] = useState('')\n  const SC = window.SC\n  return (\n    <div className=\"App\">\n      <Results search={search} setSearch={setSearch} searchDeb={searchDeb} setSearchDeb={setSearchDeb} setVideoUrl={setVideoUrl} SC={SC} />\n      <Song videoUrl={videoUrl} SC={SC} />\n      <RecentSearches setSearch={setSearch} searchDeb={searchDeb} setSearchDeb={setSearchDeb} />\n    </div>\n  );\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <App />,\n  document.getElementById('root')\n);\n\nreportWebVitals();\n"],"sourceRoot":""}